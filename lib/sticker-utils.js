const a12_0x1efa2f=a12_0x4387;(function(_0x2af344,_0xa7f0){const _0x4ad9c9=a12_0x4387,_0x1e8659=_0x2af344();while(!![]){try{const _0x33f49c=-parseInt(_0x4ad9c9(0x90))/0x1+parseInt(_0x4ad9c9(0x7a))/0x2*(-parseInt(_0x4ad9c9(0x97))/0x3)+-parseInt(_0x4ad9c9(0x9f))/0x4+-parseInt(_0x4ad9c9(0x78))/0x5*(-parseInt(_0x4ad9c9(0x88))/0x6)+parseInt(_0x4ad9c9(0x7c))/0x7+parseInt(_0x4ad9c9(0x93))/0x8*(parseInt(_0x4ad9c9(0xa0))/0x9)+-parseInt(_0x4ad9c9(0x9c))/0xa*(-parseInt(_0x4ad9c9(0x95))/0xb);if(_0x33f49c===_0xa7f0)break;else _0x1e8659['push'](_0x1e8659['shift']());}catch(_0x1b4918){_0x1e8659['push'](_0x1e8659['shift']());}}}(a12_0x18bd,0xc4582));const axios=require(a12_0x1efa2f(0x7d)),fs=require('fs'),path=require(a12_0x1efa2f(0x9a)),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0x1efa2f(0xa4))['path'],ffmpeg=require(a12_0x1efa2f(0x98));ffmpeg[a12_0x1efa2f(0x80)](ffmpegPath);function a12_0x18bd(){const _0x3ad790=['3471678ZuyPkb','hex','ChhHH','Could\x20not\x20fetch\x20GIF.','@ffmpeg-installer/ffmpeg','SFfHz','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','error','SjJoy','EeIEW','Error\x20fetching\x20GIF:','nLhIj','-loop','toString','-preset','writeFileSync','Error\x20fetching\x20image:','3105435xVdENA','-vsync','2uvtPHe','XWqfj','819455XcTEMm','axios','xtfHu','pcIFC','setFfmpegPath','psCEE','data','toFormat','arraybuffer','unlinkSync','addOutputOptions','readFileSync','12jPIYKA','exports','bKQsh','QieXA','join','sbghg','FAuqS','Could\x20not\x20fetch\x20image.','976351ZYIaoJ','-vcodec','GMqpf','8QFTxqG','get','934043rviXPP','YOLWI','53703gRjvXv','fluent-ffmpeg','webp','path','end','20hFgijr','-an','.webp','465316reIeei'];a12_0x18bd=function(){return _0x3ad790;};return a12_0x18bd();}async function fetchImage(_0x4e7bf2){const _0x4fa101=a12_0x1efa2f,_0x111a4e={'GMqpf':_0x4fa101(0xb0),'bKQsh':_0x4fa101(0x8f)};try{const _0x1254c4=await axios[_0x4fa101(0x94)](_0x4e7bf2,{'responseType':'arraybuffer'});return _0x1254c4[_0x4fa101(0x82)];}catch(_0x34efaf){console[_0x4fa101(0xa7)](_0x111a4e[_0x4fa101(0x92)],_0x34efaf);throw new Error(_0x111a4e[_0x4fa101(0x8a)]);}}async function fetchGif(_0x4ed928){const _0x1ac32c=a12_0x1efa2f,_0x272f22={'QieXA':_0x1ac32c(0x84),'xtfHu':_0x1ac32c(0xaa),'nLhIj':_0x1ac32c(0xa3)};try{const _0xa10041=await axios['get'](_0x4ed928,{'responseType':_0x272f22[_0x1ac32c(0x8b)]});return _0xa10041[_0x1ac32c(0x82)];}catch(_0x1738b6){console[_0x1ac32c(0xa7)](_0x272f22[_0x1ac32c(0x7e)],_0x1738b6);throw new Error(_0x272f22[_0x1ac32c(0xab)]);}}function a12_0x4387(_0x60bf29,_0x355a15){const _0x18bda0=a12_0x18bd();return a12_0x4387=function(_0x438716,_0x28540f){_0x438716=_0x438716-0x78;let _0x1ddb27=_0x18bda0[_0x438716];return _0x1ddb27;},a12_0x4387(_0x60bf29,_0x355a15);}async function gifToSticker(_0x1b3e19){const _0x54600e=a12_0x1efa2f,_0x57c040={'pcIFC':function(_0x4cf291,_0x1cb4e6){return _0x4cf291(_0x1cb4e6);},'FAuqS':_0x54600e(0xa7),'SFfHz':_0x54600e(0x9b),'TMYJy':_0x54600e(0x91),'hpVAH':'-vf','psCEE':_0x54600e(0xa6),'sbghg':_0x54600e(0xac),'YOLWI':_0x54600e(0xae),'SjJoy':'default','XWqfj':_0x54600e(0x99),'umTFY':function(_0x45976e){return _0x45976e();},'ChhHH':_0x54600e(0xa1),'EeIEW':_0x54600e(0x9e),'eJBmr':'.gif'},_0x40806c=path[_0x54600e(0x8c)](_0x57c040['umTFY'](tmpdir),Crypto['randomBytes'](0x6)[_0x54600e(0xad)](_0x57c040[_0x54600e(0xa2)])+_0x57c040[_0x54600e(0xa9)]),_0x50efd1=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x54600e(0xad)](_0x57c040[_0x54600e(0xa2)])+_0x57c040['eJBmr']);fs[_0x54600e(0xaf)](_0x50efd1,_0x1b3e19),await new Promise((_0x1ae1ca,_0xde20f9)=>{const _0x39c531=_0x54600e;_0x57c040[_0x39c531(0x7f)](ffmpeg,_0x50efd1)['on'](_0x57c040[_0x39c531(0x8e)],_0xde20f9)['on'](_0x57c040[_0x39c531(0xa5)],()=>_0x1ae1ca(!![]))[_0x39c531(0x86)]([_0x57c040['TMYJy'],'libwebp',_0x57c040['hpVAH'],_0x57c040[_0x39c531(0x81)],_0x57c040[_0x39c531(0x8d)],'0',_0x57c040[_0x39c531(0x96)],_0x57c040[_0x39c531(0xa8)],_0x39c531(0x9d),_0x39c531(0x79),'0'])[_0x39c531(0x83)](_0x57c040[_0x39c531(0x7b)])['save'](_0x40806c);});const _0x6d05f=fs[_0x54600e(0x87)](_0x40806c);return fs[_0x54600e(0x85)](_0x40806c),fs[_0x54600e(0x85)](_0x50efd1),_0x6d05f;}module[a12_0x1efa2f(0x89)]={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};